# RescYou - Wilderness Medicine Ontology
BMI 210 / CS 270 Winter 2017 Proejct

This project is an Ontology with SWRL Rules for diagnosing and suggesting treatments for wilderness medical emergencies.

## Team Members

Jon Deaton: jdeaton@stanford.edu

Monica Hew: ymhew@stanford.edu

Antonio Moraes: aemoraes@stanford.edu

Julien KB: julienkb@stanford.edu


## Abstract
Tens of thousands of hikers and outdoor enthusiast were injured in the wilderness in the States. Due to restricted access to emergency medical care (since most of these injuries took place in remote wilderness) and delayed proper first-aid treatment, the outcome of these incidents are generally poor. The RescYou proposed the construct of an model to help patients identify likely differential diagnosis and provide plausible/adequate first-aid recommendation to improve patient outcome. Additionally, the RescYou can also send out an emergency case data package to emergency care provider so proper higher level care can be planned and arrived in a timely manner.  The method employed to construct such model is shown in Figure 1. We will extract the essential wilderness medicine knowledge relevant to emergency medical care from the lecture slides of the Stanford Emergency Medicine Technician training course, which condensed the most relevant wilderness medicine cases that one can encountered in the field. With the lecture slides, we will construct the ontology in Protege by identifying the key concepts and terminologies of these injuries. Meanwhile, we will also construct a rule list in the excel spreadsheet to translate all diagnosis and treatment recommendation from the lecture slides into a “If-Then” rule. Then, these rule in the spreadsheet will be carefully implemented in the Protege as SWRL. Finally, we will evaluate our system by using dummy patients cases constructed using the current National EMT certification exam question, i.e. given the patient vital and signs/symptoms. By comparing the differential diagnosis inferred by our model and the correct answer by the EMT exam, we can evaluate the performance of our model.

![screen shot 2017-03-12 at 10 14 17 pm](https://cloud.githubusercontent.com/assets/15920014/23842503/e9bdfcea-0771-11e7-99e8-c65af83d3416.png)

## Motivation

Medical emergencies in outdoor environments are common, with over 200,000 reported cases occurring in the US from 2004–2005 [1]. Wilderness medicine is the skills and knowledge required for assessment and treatment of traumatic, environmental, and medical emergencies in remote geographic or wilderness environment, including high altitude, dive emergency, envenomation, trauma, hyperthermia (heat related injuries), hypothermia (cold related injuries), Avalanche, etc. Early identification of the problem and proper response to these situations is critical for better patient outcome, but can be challenging given the limited access to informational resources (e.g. the internet) and lack of emergency medical support (i.e. EMT, paramedics) in the wilderness. We hope to address this problem with an ontology and a model about common wilderness medical problems that can help a person in the outdoors to identify their medical problem and perform the appropriate first-aid procedures until higher level care arrives. Our target population is the ~37 million hikers that venture into the wilderness each year in the US [2]. One of the possible application of this project is the development of a portable app that can be run by an injured hiker in the wilderness where suggested first-aid procedures are provided to the hiker and a differential diagnosis can be relayed to the emergency medical service personnel at the earliest time to improve rescue outcome.
Current solutions to this problem generally take the form of wilderness survival guide books. These books can be very accurate and informative however their drawback is that it may take a long time to  effectively diagnose the patient’s condition and form a plan of action with little prior knowledge. In many wilderness emergency situations it is infeasible for an injured person to spend more than a few minutes diagnosing themselves. The patient may die if their party is unable to come up with an effective plan of action in a short period of time. There are also wilderness medicine guides in mobile-phone app form, but these merely take the information in guide books and present them in an app. For this reason, app-based informational guides may not not reduce the amount of time that it takes for an injured party to determine the best course of action. Our reasoning-based approach that queries the user about their observable state will make it much easier for an injured person to determine their condition and appropriate action. The efficiency of our approach will save critical time during wilderness emergency medical situations, potentially saving lives.

## Ontology

	The guide for our ontology is the textbook for Stanford’s wilderness medicine class. Of course, designing an ontology for the entire textbook would require too much time (and perhaps not provide a lot of additional value over a more streamlined ontology). So, instead of trying to capture all the content in the textbook, we have paid attention to conditions which are tested on during the EMT qualifying exams. 
	Unfortunately, we were not able to locate an example wilderness ontology, so we designed the ontology in a way that made sense to us. Specifically, our ontology contains eight top level classes: animal, person, observable quality, treatment, material, injury, risk factor, and sign. Each of these classes were concepts which we concluded were fundamentally important to the ontology, and were distinct enough to justify distinguishing from the other concepts. The bulk of the ontology is contained in three categories: injury, observable quality, and treatment. 
	The injury class contains the different types of wilderness injuries that can happen. Although there are many different types of wilderness injuries, the EMT exam and our ontology focus on three main types of injuries which are the most common: envenomation, environmental exposure injuries, and dysbarism conditions. Envenomations are injuries caused by animals, such as bee stings, spider bites, and snake bites. Environmental exposure injuries are caused by exposure either to heat or cold, which lead to conditions such as frostbite and hypothermia in the case of exposure to cold, or heat stroke in the case of exposure to heat. 
	Each of the injuries have associated risk factors, symptoms, and treatments. Risk factors are conditions which are pre-existing in the patient or the environment, but which affect the severity of the injury. In comparison, observable qualities are symptoms caused by the injury. For example, an allergy to bee stings is a risk factor for envenomation by bees, while red, painful swellings are observable qualities related to envenomation by bees.
	Finally, the relationships between these classes were designed to be intuitive. A person can have some injuries, risk factors, and observable qualities. Each injury can have risk factors and observable qualities, as well as several possible treatments. Taking certain measurements may require materials (such as a blood pressure cuff to measure blood pressure), and certain treatments may also require materials (such as an EpiPen to administer adrenaline).

## Problem Solving Methods

We will implement rules in SWRL to operate on the wilderness medicine ontology developed above. In Protege, we will use the Pellet reasoner to do the reasoning. We construct the rules using the reference emergency medical technician training lecture slides. By translating different differential diagnosis and symptoms/signs to treatment procedures, we are able to come up with rules that can operate on the wilderness medicine ontology to yield meaningful classification of patients and relevant treatment suggestion. The rule-based system implemented will use forward chaining method to classify the potential injury based on the given signs and symptoms described by the patient. Once the classification of the injury is completed, it will continue with with a series of backward chaining rules to figure out the most available and plausible first-aid solution(such as building a splint if you have some sturdy material in the wilderness). 

As shown in Figure 1 in the abstract section, the SWRL rule-based problem solving method will operate on the ontology developed in the previous section to come up with the most likely differential diagnosis based on the available information, such as vital readings, sighting of animal bites, etc. In Figure 2 below, we show a zoomed in view of our spreadsheet on the rule-based system implementation. In Figure 3, we show the SWRL implementation in Protege. 

## Evaluation

To evaluate the effectiveness of our approach, we will apply a series of tests to our reasoner which our reasoner will either pass or fail. We intend to design these tests to match questions found from exam(s) that are used to test competency for prospective EMT trainees. We will programmatically enter the relevant test information by creating instances of the “Patient” class in our ontology for each case study. Then, we will set the object properties of each case-study Patient instance with the relevant clinical details that are presented in the case. We will run our reasoner and determine if a correct diagnosis was made for the current condition of the patient. If an incorrect diagnosis or no diagnosis was made for a case-study that our reasoner should be able to identify, then we will count this as a false negative. If the correct diagnosis was made in accordance with the solutions to the EMT exam, we will count it as a true positive. To assess the true negative and false positive rates of our system, we will also provide it with a series of patient instances which have no medical condition that needs to be diagnosed. Those which are classified with no diagnosis, we will consider true negatives, and those which were classified with a diagnosis will be counted as false positives. With true positives, false positives, true negatives, and false negatives in hand, we will be able to calculate accuracy, sensitivity, specificity, among other predictive performance metrics.

